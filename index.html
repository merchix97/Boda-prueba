<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Boda de Mer &amp; Luis</title>
  <meta name="description" content="PÃ¡gina oficial de la boda de Mer y Luis. Confirma tu asistencia y encuentra todos los detalles.">
  <style>
    :root{
      --bg1:#fff7f7; --bg2:#fff; --text:#1f2937; --primary:#e11d48; --muted:#64748b; --card:#ffffff;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Helvetica,Arial,sans-serif;color:var(--text);background:linear-gradient(180deg,var(--bg1),var(--bg2));}
    .container{max-width:800px;margin:0 auto;padding:24px}
    header.hero{display:flex;flex-direction:column;align-items:center;gap:24px;margin:24px 0;text-align:center}
    .card{background:var(--card);border:1px solid #e5e7eb;border-radius:20px;box-shadow:0 10px 30px rgba(0,0,0,.05);padding:24px;width:100%}
    h1{font-size:clamp(1.8rem,3.5vw,3rem);color:var(--primary);margin:.2rem 0}
    h2{font-size:clamp(1.2rem,2.4vw,1.6rem);border-left:6px solid var(--primary);padding-left:12px;margin:1.6rem 0 .8rem;color:#0f172a;text-align:left}
    h3{margin-top:.6rem;color:#0f172a}
    p{line-height:1.65;margin:.6rem 0}
    .muted{color:var(--muted)}
    .tag{display:inline-block;background:#fee2e2;color:#991b1b;border:1px solid #fecaca;border-radius:999px;padding:.2rem .6rem;font-size:.85rem;margin-bottom:.6rem}
    .grid{display:grid;gap:16px}
    .grid-3{grid-template-columns:repeat(3,minmax(0,1fr))}
    @media (max-width:860px){.grid-3{grid-template-columns:1fr}}
    .btn{appearance:none;border:1px solid #e5e7eb;background:var(--primary);color:#fff;border-radius:12px;padding:12px 16px;font-weight:600;cursor:pointer}
    .btn:disabled{opacity:.6;cursor:not-allowed}
    .btn.secondary{background:#fff;color:#0f172a}
    .section{margin:28px 0}
    .list{padding-left:1.2rem;text-align:left}
    form .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    form .row-3{grid-template-columns:1fr 1fr 1fr}
    form label{display:block;font-weight:600;margin:.3rem 0;text-align:left}
    input,select,textarea{width:100%;padding:10px 12px;border:1px solid #e5e7eb;border-radius:10px;font:inherit}
    textarea{min-height:110px;resize:vertical}
    .small{font-size:.9rem}
    .ok{background:#ecfdf5;border:1px solid #a7f3d0;color:#065f46;padding:10px 12px;border-radius:10px;margin-top:10px;display:none}
    .err{background:#fef2f2;border:1px solid #fecaca;color:#991b1b;padding:10px 12px;border-radius:10px;margin-top:10px;display:none}
    footer{margin:36px 0 12px;color:var(--muted);font-size:.95rem;text-align:center}
    /* Monograma */
    .monograma{
      width:220px; aspect-ratio:1/1; border-radius:50%;
      display:flex; align-items:center; justify-content:center;
      background:#fff1f2; border:2px solid #fecaca; padding:16px; margin:0 auto;
    }
    .monograma svg{width:100%; height:100%}
  </style>
</head>
<body>
  <div class="container">
    <header class="hero">
      <div class="monograma">
        <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" aria-label="Monograma M y L">
          <circle cx="100" cy="100" r="95" fill="white" stroke="#e11d48" stroke-width="4"/>
          <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle"
                font-family="serif" font-size="60" fill="#e11d48">M &amp; L</text>
        </svg>
      </div>
      <div class="card">
        <span class="tag">Â¡Nos casamos!</span>
        <h1>Mer &amp; Luis</h1>
        <p class="muted">SÃ¡bado 8 de agosto de 2026 Â· 17:00 â€” Ermita de San Antonio del Cerro (Navas de San Antonio)</p>
        <p>Estamos muy ilusionados de compartir este dÃ­a con las personas que mÃ¡s queremos. AquÃ­ encontrarÃ¡s los detalles y podrÃ¡s confirmar tu asistencia.</p>
        <div style="display:flex;gap:10px;justify-content:center;margin-top:10px;flex-wrap:wrap">
          <a class="btn" href="#rsvp">Confirmar asistencia</a>
          <a class="btn secondary" href="#detalles">Ver detalles</a>
        </div>
      </div>
    </header>

    <section id="detalles" class="section card">
      <h2>Detalles</h2>
      <div class="grid grid-3">
        <div><h3>Ceremonia</h3><p>17:00 â€” Ermita de San Antonio del Cerro</p></div>
        <div><h3>CÃ³ctel &amp; Banquete</h3><p>19:00 â€” Campo de Golf de Los Angeles de San Rafael</p></div>
        <div><h3>Fiesta</h3><p>22:30 â€” Pista de baile (barra libre ðŸŽ‰)</p></div>
      </div>
      <p class="small muted">CÃ³digo de vestimenta: elegante. Parking disponible. Si vienes con niÃ±os, indÃ­calo en el formulario.</p>
    </section>

    <section class="section card">
      <h2>CÃ³mo llegar</h2>
      <p>Ermita de San Antonio del Cerro, Navas de San Antonio</p>
      <div style="border-radius:16px;overflow:hidden;border:1px solid #e5e7eb">
    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d49600.454458258246!2d-4.34474446127202!3d40.795274721496334!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd411bf0e90255fd%3A0xdc6a803a9abf682c!2sErmita%20de%20San%20Antonio%20del%20Cerro!5e0!3m2!1ses!2ses!4v1761122975060!5m2!1ses!2ses" width="800" height="600" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>    </section>
    </section>

    <section id="rsvp" class="section card" aria-labelledby="rsvp-title">
      <h2 id="rsvp-title">ConfirmaciÃ³n de asistencia</h2>
      <p class="muted small">Rellena el formulario. Te enviaremos un email de confirmaciÃ³n si indicas tu correo.</p>

      <form id="form-rsvp" novalidate>
        <div class="row">
          <div>
            <label for="nombre">Nombre y apellidos *</label>
            <input id="nombre" name="nombre" type="text" required minlength="2" placeholder="Ej: MarÃ­a Ubero" />
          </div>
          <div>
            <label for="email">Email (para confirmaciÃ³n)</label>
            <input id="email" name="email" type="email" placeholder="mery@example.com" />
          </div>
        </div>

        <div class="row">
          <div>
            <label for="telefono">TelÃ©fono</label>
            <input id="telefono" name="telefono" type="tel" placeholder="+34 600 000 000" />
          </div>
          <div>
            <label for="asistencia">Â¿AsistirÃ¡s? *</label>
            <select id="asistencia" name="asistencia" required>
              <option value="">Seleccionaâ€¦</option>
              <option value="Si">SÃ­, asistirÃ©</option>
              <option value="No">No podrÃ© asistir</option>
            </select>
          </div>
        </div>

        <div class="row-3 row">
          <div>
            <label for="acompanantes">NÂº de acompaÃ±antes</label>
            <input id="acompanantes" name="acompanantes" type="number" min="0" max="10" value="0" />
          </div>
          <div>
            <label for="menu">Preferencia de menÃº</label>
            <select id="menu" name="menu">
              <option value="">Sin preferencia</option>
              <option>Tradicional</option>
              <option>Vegetariano</option>
              <option>Vegano</option>
              <option>Infantil</option>
              <option>Sin gluten</option>
              <option>Sin lactosa</option>
            </select>
          </div>
          <div>
            <label for="alergias">Alergias/intolerancias</label>
            <input id="alergias" name="alergias" type="text" placeholder="Ej: frutos secos" />
          </div>
        </div>

        <label for="cancion">Â¿QuÃ© canciÃ³n no puede faltar?</label>
        <input id="cancion" name="cancion" type="text" placeholder="Tu canciÃ³n favorita" />

        <label for="mensaje">Mensaje para los novios</label>
        <textarea id="mensaje" name="mensaje" placeholder="Escribe aquÃ­ tu mensajeâ€¦"></textarea>

        <!-- Honeypot anti-spam -->
        <input id="website" name="website" type="text" style="display:none" tabindex="-1" autocomplete="off">

        <div class="small muted">
          <label><input type="checkbox" id="acepto" required> Acepto que mis datos se utilicen para gestionar la asistencia.</label>
        </div>

        <div style="display:flex;gap:10px;justify-content:center;margin-top:12px;flex-wrap:wrap">
          <button class="btn" type="submit" id="btn-enviar">Enviar</button>
          <button class="btn secondary" type="button" id="btn-mailto">Enviar por correo (alternativa)</button>
        </div>
        <div id="msg-ok" class="ok">Â¡Gracias! Hemos registrado tu respuesta.</div>
        <div id="msg-err" class="err">No se pudo enviar. IntÃ©ntalo de nuevo mÃ¡s tarde.</div>
      </form>

      <p class="small muted" style="margin-top:10px">Privacidad: sÃ³lo usaremos tus datos para la organizaciÃ³n del evento.</p>
    </section>

    <section class="section card">
      <h2>Preguntas frecuentes</h2>
      <ul class="list">
        <li><strong>Â¿Puedo cambiar mi respuesta?</strong> SÃ­, vuelve a rellenar el formulario con el mismo nombre.</li>
        <li><strong>Â¿Hay autobÃºs?</strong> Si te interesa, indÃ­calo en el mensaje.</li>
      </ul>
    </section>

    <footer>Â© Boda de Mer y Luis â€” Hecho con amor ðŸ’–</footer>
  </div>

  <script>
    // ValidaciÃ³n y envÃ­o
    const form = document.getElementById('form-rsvp');
    const ok = document.getElementById('msg-ok');
    const err = document.getElementById('msg-err');
    const btn = document.getElementById('btn-enviar');
    const btnMailto = document.getElementById('btn-mailto');

    function serializeForm(fd){
      const obj = {};
      for (const [k,v] of fd.entries()) obj[k] = v;
      return obj;
    }

    form.addEventListener('submit', async (e)=>{
      e.preventDefault();
      ok.style.display='none'; err.style.display='none';
      if (!form.reportValidity()) return;
      if (document.getElementById('website').value) return; // honeypot

      btn.disabled = true;
      const data = serializeForm(new FormData(form));
      try{
        const res = await fetch('/rsvp', {
          method:'POST',
          headers:{'Content-Type':'application/json'},
          body: JSON.stringify(data)
        });
        if(!res.ok) throw new Error('HTTP ' + res.status);
        ok.style.display='block';
        form.reset();
      }catch(ex){
        console.error(ex);
        err.style.display='block';
      }finally{
        btn.disabled = false;
      }
    });

    btnMailto.addEventListener('click', ()=>{
      const fd = new FormData(form);
      const d = serializeForm(fd);
      const body = encodeURIComponent(
        `Nombre: ${d.nombre || ''}%0D%0AEmail: ${d.email || ''}%0D%0ATelÃ©fono: ${d.telefono || ''}%0D%0AAsistencia: ${d.asistencia || ''}%0D%0AAcompaÃ±antes: ${d.acompanantes || ''}%0D%0AMenÃº: ${d.menu || ''}%0D%0AAlergias: ${d.alergias || ''}%0D%0ACanciÃ³n: ${d.cancion || ''}%0D%0AMensaje: ${d.mensaje || ''}`
      );
      window.location.href = `mailto:meryubero14@gmail.com?subject=RSVP boda&body=${body}`;
    });
  </script>
</body>
</html>

